# mvi-ui æ¨¡å—åˆ›å»ºå®Œæˆ

## âœ… å®Œæˆçš„å·¥ä½œ

### 1. æ¨¡å—ç»“æ„åˆ›å»º

å·²æˆåŠŸåˆ›å»º `mvi-ui` æ¨¡å—,ç›®å½•ç»“æ„å¦‚ä¸‹:

```
mvi-ui/
â”œâ”€â”€ build.gradle                # æ¨¡å—æ„å»ºé…ç½®
â”œâ”€â”€ proguard-rules.pro          # ProGuard æ··æ·†è§„åˆ™
â””â”€â”€ src/
    â””â”€â”€ main/
        â”œâ”€â”€ AndroidManifest.xml  # æ¸…å•æ–‡ä»¶
        â”œâ”€â”€ java/com/mvi/ui/     # Kotlin æºç ç›®å½•
        â””â”€â”€ res/
            â””â”€â”€ values/
                â””â”€â”€ strings.xml  # å­—ç¬¦ä¸²èµ„æº
```

### 2. é…ç½®æ–‡ä»¶

#### build.gradle
- âœ… ä¾èµ– `mvi-core` æ¨¡å— (`api project(':mvi-core')`)
- âœ… åŒ…å«æ‰€æœ‰ UI ç›¸å…³ä¾èµ–:
  - Glide (å›¾ç‰‡åŠ è½½)
  - AndroidAutoSize (å±å¹•é€‚é…)
  - ImmersionBar (æ²‰æµ¸å¼çŠ¶æ€æ )
  - Layer (å¯¹è¯æ¡†)
  - LoadingStateView (ç¼ºçœé¡µ)
  - ViewBinding KTX
  - Material Design
  - RecyclerView
  - ConstraintLayout

#### settings.gradle
- âœ… å·²æ·»åŠ  `include ':mvi-ui'`

#### demo/build.gradle
- âœ… å·²ä¿®æ”¹ä¸ºä¾èµ– `mvi-ui` (ä¼šè‡ªåŠ¨åŒ…å« `mvi-core`)

### 3. mvi-core ä¼˜åŒ–

ä¿ç•™äº† `mvi-core` ä¸­å¿…è¦çš„ä¾èµ–:
- âœ… AndroidX åŸºç¡€ç»„ä»¶ (ConstraintLayout, RecyclerView, Material)
- âœ… Layer (MviDialog ä¾èµ–)
- âœ… å…¶ä»–æ ¸å¿ƒä¾èµ–

### 4. ç¼–è¯‘éªŒè¯

- âœ… `mvi-ui` æ¨¡å—ç¼–è¯‘æˆåŠŸ
- âœ… `mvi-core` æ¨¡å—ç¼–è¯‘æˆåŠŸ
- âœ… ä¾èµ–å…³ç³»æ­£ç¡®

---

## ğŸ“ å½“å‰æ¨¡å—æ¶æ„

```
aFramework/
â”œâ”€â”€ mvi-core/              # æ ¸å¿ƒåŸºç¡€åº“
â”‚   â”œâ”€â”€ MVI æ¶æ„æ ¸å¿ƒ
â”‚   â”œâ”€â”€ ç½‘ç»œè¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ æœ¬åœ°å­˜å‚¨(MMKV)
â”‚   â”œâ”€â”€ å¼‚å¸¸å¤„ç†
â”‚   â”œâ”€â”€ æƒé™ç®¡ç†
â”‚   â”œâ”€â”€ åŸºç¡€æ‰©å±•å‡½æ•°
â”‚   â””â”€â”€ åŸºç¡€ UI (MviDialog, SkeletonManager)
â”‚
â”œâ”€â”€ mvi-ui/                # UI ç»„ä»¶åº“(æ–°å»º)
â”‚   â”œâ”€â”€ å›¾ç‰‡åŠ è½½(Glide)
â”‚   â”œâ”€â”€ å±å¹•é€‚é…(AndroidAutoSize)
â”‚   â”œâ”€â”€ æ²‰æµ¸å¼çŠ¶æ€æ (ImmersionBar)
â”‚   â”œâ”€â”€ å¯¹è¯æ¡†æ‰©å±•(Layer)
â”‚   â”œâ”€â”€ ç¼ºçœé¡µ(LoadingStateView)
â”‚   â”œâ”€â”€ ViewBinding æ‰©å±•
â”‚   â””â”€â”€ å…¶ä»– UI ç»„ä»¶
â”‚
â””â”€â”€ demo/                  # ç¤ºä¾‹åº”ç”¨
    â””â”€â”€ ä¾èµ– mvi-ui (è‡ªåŠ¨åŒ…å« mvi-core)
```

---

## ğŸ”— ä¾èµ–å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  demo   â”‚ (ç¤ºä¾‹åº”ç”¨)
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚ implementation
     â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚  mvi-ui  â”‚ (UIç»„ä»¶åº“)
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ api
     â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚ mvi-core â”‚ (æ ¸å¿ƒåº“)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼ é€’ä¾èµ–è¯´æ˜:**
- demo ä¾èµ– `mvi-ui`
- `mvi-ui` é€šè¿‡ `api` ä¾èµ– `mvi-core`
- demo è‡ªåŠ¨è·å¾— `mvi-core` å’Œ `mvi-ui` çš„æ‰€æœ‰åŠŸèƒ½

---

## ğŸ“ ä½¿ç”¨æ–¹å¼

### æ–¹å¼ä¸€:å®Œæ•´ UI åº”ç”¨ (æ¨è)

```gradle
// app/build.gradle
dependencies {
    implementation project(':mvi-ui')  // è‡ªåŠ¨åŒ…å« mvi-core
}
```

**å¯ä½¿ç”¨:**
- MVI æ¶æ„æ ¸å¿ƒ
- ç½‘ç»œè¯·æ±‚
- æœ¬åœ°å­˜å‚¨
- æƒé™ç®¡ç†
- å›¾ç‰‡åŠ è½½
- å±å¹•é€‚é…
- æ²‰æµ¸å¼çŠ¶æ€æ 
- å¯¹è¯æ¡†
- ç¼ºçœé¡µ
- æ‰€æœ‰ UI ç»„ä»¶

### æ–¹å¼äºŒ:ä»…æ ¸å¿ƒåŠŸèƒ½ (åå°æœåŠ¡)

```gradle
// service/build.gradle
dependencies {
    implementation project(':mvi-core')  // åªåŒ…å«æ ¸å¿ƒ
}
```

**å¯ä½¿ç”¨:**
- MVI æ¶æ„æ ¸å¿ƒ
- ç½‘ç»œè¯·æ±‚
- æœ¬åœ°å­˜å‚¨
- æƒé™ç®¡ç†
- åŸºç¡€æ‰©å±•å‡½æ•°

**ä¸åŒ…å«:**
- Glide
- AndroidAutoSize
- ImmersionBar
- å…¶ä»– UI æ‰©å±•

---

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

### çŸ­æœŸä»»åŠ¡

1. **ç§»åŠ¨ UI ç›¸å…³ä»£ç åˆ° mvi-ui**
   - å°† `mvi-core` ä¸­çš„ UI æ‰©å±•å‡½æ•°ç§»è‡³ `mvi-ui`
   - åˆ›å»º UI ç»„ä»¶åŒ…è£…ç±»

2. **åˆ›å»ºç¤ºä¾‹ä»£ç **
   - åœ¨ `demo` ä¸­æ·»åŠ ä½¿ç”¨ç¤ºä¾‹
   - å±•ç¤º `mvi-ui` å„ç»„ä»¶çš„ç”¨æ³•

3. **å®Œå–„æ–‡æ¡£**
   - ä¸º `mvi-ui` åˆ›å»ºè¯¦ç»†çš„ README
   - æ·»åŠ ä½¿ç”¨æ•™ç¨‹å’Œæœ€ä½³å®è·µ

### é•¿æœŸä»»åŠ¡

1. **è€ƒè™‘è¿›ä¸€æ­¥æ‹†åˆ†**
   - `mvi-network` - ç½‘ç»œè¯·æ±‚æ¨¡å—
   - `mvi-storage` - æœ¬åœ°å­˜å‚¨æ¨¡å—
   - `mvi-widget` - è‡ªå®šä¹‰ View æ¨¡å—

2. **å‘å¸ƒåˆ° Maven**
   - é…ç½®å‘å¸ƒè„šæœ¬
   - æ”¯æŒè¿œç¨‹ä¾èµ–

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. mvi-core ä¿ç•™äº†éƒ¨åˆ† UI ä¾èµ–

ç”±äº `MviDialog` å’Œ `SkeletonManager` åœ¨ `mvi-core` ä¸­,æš‚æ—¶ä¿ç•™äº†ä»¥ä¸‹ä¾èµ–:
- `layer` (å¯¹è¯æ¡†æ¡†æ¶)
- `constraintlayout`, `recyclerview`, `material` (AndroidX UI ç»„ä»¶)

**åŸå› :** è¿™äº›ç±»ä¾èµ– UI æ¡†æ¶,æš‚æ—¶ä¿ç•™åœ¨ `mvi-core` ä¸­ã€‚

**å»ºè®®:** å°†æ¥å¯ä»¥è€ƒè™‘:
- å°† `MviDialog` ç§»è‡³ `mvi-ui`
- å°† `SkeletonManager` ç§»è‡³ `mvi-ui`
- è¿›ä¸€æ­¥ç²¾ç®€ `mvi-core`

### 2. å·²æœ‰é¡¹ç›®è¿ç§»

å¦‚æœæ‚¨çš„é¡¹ç›®å½“å‰ä¾èµ– `mvi-core`,æœ‰ä¸¤ç§é€‰æ‹©:

**é€‰é¡¹ A: ç»§ç»­ä½¿ç”¨ mvi-core (æ¨è)**
```gradle
dependencies {
    implementation project(':mvi-core')
}
```
- åŠŸèƒ½ä¸å˜,å…¼å®¹æ€§å¥½
- é€‚åˆä¸éœ€è¦é¢å¤– UI ç»„ä»¶çš„é¡¹ç›®

**é€‰é¡¹ B: åˆ‡æ¢åˆ° mvi-ui**
```gradle
dependencies {
    implementation project(':mvi-ui')  // åŒ…å« mvi-core + UI æ‰©å±•
}
```
- è·å¾—æ‰€æœ‰ UI ç»„ä»¶
- é€‚åˆéœ€è¦å®Œæ•´åŠŸèƒ½çš„åº”ç”¨

---

## âœ… éªŒè¯æ¸…å•

- [x] `mvi-ui` æ¨¡å—åˆ›å»ºæˆåŠŸ
- [x] ç›®å½•ç»“æ„å®Œæ•´
- [x] `build.gradle` é…ç½®æ­£ç¡®
- [x] `settings.gradle` å·²æ›´æ–°
- [x] `demo` ä¾èµ–å·²ä¿®æ”¹
- [x] ç¼–è¯‘é€šè¿‡æ— é”™è¯¯
- [x] ä¾èµ–å…³ç³»æ­£ç¡®

---

**åˆ›å»ºæ—¶é—´:** 2025-12-16
**åˆ›å»ºè€…:** Claude AI Assistant
**çŠ¶æ€:** âœ… å®Œæˆ
